# 项目日志3

## 购买数量加减操作

1. 在Details页面中修改：src->pages->Details->index.vue

```vue

```

### lodash

防抖的原理：

```js
封装防抖函数
思路：

声明一个定时器变量
当鼠标每次滑动都判断是否有定时器，如果有定时器，先清除以前定时器
如果没有定时器，则开一个定时器
在定时器里面调用要执行的函数

const box = document.querySelector('.box')
let i = 1

function mouseMove() {
    box.innerHTML = i++
}

function debounce(fn, t) {
    // 1.声明一个定时器变量
    let timer
    return function () {
        // 2.如果有定时器，先清除定时器
        if (timer) clearTimeout(timer)
        // 3.4.重新设置定时函数
        timer = setTimeout(fn, t)
    }
}

box.addEventListener('mousemove', debounce(mouseMove, 200))
```

防抖和节流的区别：

```vue
防抖是多次触发执行最后一个，节流是多次触发执行第一个

防抖 => 回城
节流 => 技能冷却
```

使用lodash实现防抖：

```js
下载：cnpm install lodash
引入：import {debounce} from "lodash"
使用：_.debounce(要执行的函数, 延后执行的时间)
<!-- 在使用时我已经将lodash的js文件下载到了本地 -->
<script src="../lodash.min.js"></script>
<script>
    const box = document.querySelector('.box')
	let i = 1
    function mouseMove() {
        box.innerHTML = i++
    }
	box.addEventListener('mousemove', _.debounce(mouseMove, 200))
</script>

```

节流的原理：

```js
封装节流函数思路：

声明一个定时器变量
当鼠标每次滑动都判断是否有定时器，如果有定时器已经开启，则不做操作
如果没有定时器，则开一个定时器
定时器到达时间，清空定时器

const box = document.querySelector('.box')
    let i = 1

    function mouseMove() {
      box.innerHTML = i++
    }

    function debounce(fn, t) {
      // 1.声明一个空定时器变量
      let timer = null
      return function () {
        // 2.如果没有定时器，可以设置定时器
        if (!timer) {
          timer = setTimeout(function () {
            fn()
            // 4.冷却完，清空定时器
            timer = null
          }, t)
        }
        // 3.如果已经有定时器，不做操作
      }
    }
    box.addEventListener('mousemove', debounce(mouseMove, 3000))
```

使用lodash实现节流：

```js
<!-- 在使用时我已经将lodash的js文件下载到了本地 -->
<script src="../lodash.min.js"></script>
<script>
    const box = document.querySelector('.box')
    let i = 1
    function mouseMove() {
        box.innerHTML = i++
    }
    box.addEventListener('mousemove', _.throttle(mouseMove, 3000))
</script>
```

lodash实现防抖：src->pages->Details->index.vue

```vue
https://www.lodashjs.com/docs/lodash.debounce#_debouncefunc-wait0-options
```



## 加入购物车成功界面

```vue

```



## 完成购物车界面功能

```vue

```

