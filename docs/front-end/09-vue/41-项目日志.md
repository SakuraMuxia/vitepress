# 项目日志

## 启动项目DEMO

* 将项目目录中的sph放置本地

* 进入到目录sph,安装依赖模块

  ```shell
  cnpm i
  ```

* package.json

  ```json
  {
  	"scripts":{
  		"start":"node server.js"
  	},
  	
    "dependencies": {
      "connect-history-api-fallback": "^2.0.0",
      "express": "^4.18.2",
      "http-proxy-middleware": "^2.0.6"
    }
  }
  ```

* 启动：

  ```shell
  npm start
  ```

## 通过脚手架搭建项目

* 选择默认版本vue2

  ```shell
  vue create first # 选择默认安装 vue2 -->Default ([Vue 2] babel, eslint) 
  ```

## 整理项目

* 复制尚品汇图标至public->favicon.ico

* 启动项目如果站标未发生改变，清除缓存，然后重新打开浏览器。

* public->index.html

  ```html
  <!DOCTYPE html>
  <html lang="">
  <head>
  	<meta charset="utf-8">
  	<link rel="icon" href="<%= BASE_URL %>favicon.ico">
  	<title><%= htmlWebpackPlugin.options.title %></title>
  </head>
  <body>
  	<div id="app"></div>
  </body>
  </html>
  ```

* vue.config.js

  ```js
  const {defineConfig} = require('@vue/cli-service')
  module.exports = defineConfig({
  	transpileDependencies: true,
  	// publicPath:"./",// 更改BASE_URL
  	devServer:{
  		open:true,
  		host:"zhangpeiyue.com",
  		port:80
  	},
  	pages: {
  		index: {
  			// page 的入口
  			entry: 'src/index.js',
  			// 设置网站标题
  			title:"尚品汇"
  		}
  	}
  })
  ```

  官方文档：https://cli.vuejs.org/zh/config/#pages

  ```javascript
  module.exports = {
    pages: {
      index: {
        // page 的入口
        entry: 'src/index/main.js',
        // 模板来源
        template: 'public/index.html',
        // 在 dist/index.html 的输出
        filename: 'index.html',
        // 当使用 title 选项时，
        // template 中的 title 标签需要是 <title><%= htmlWebpackPlugin.options.title %></title>
        title: 'Index Page',
        // 在这个页面中包含的块，默认情况下会包含
        // 提取出来的通用 chunk 和 vendor chunk。
        chunks: ['chunk-vendors', 'chunk-common', 'index']
      },
      // 当使用只有入口的字符串格式时，
      // 模板会被推导为 `public/subpage.html`
      // 并且如果找不到的话，就回退到 `public/index.html`。
      // 输出文件名会被推导为 `subpage.html`。
      subpage: 'src/subpage/main.js'
    }
  }
  ```

## 解决esling问题

* src->index.js

  ```js
  import Vue from "vue";
  import App from "@/App";
  const vm = new Vue({
  	el:"#app",
  	render:h=>h(App)
  })
  ```

* 解决一,配置忽略：package.json

  ```json
  {
    ....
      "rules": {
      	// 不用的变量忽略检查
          "no-unused-vars":0,
      	// 组件命名多个字母
          "vue/multi-word-component-names": 0
      }
    .....
  }
  ```

* 解决二：整体忽略lint检查 vue.config.js

  ```js
  const {defineConfig} = require('@vue/cli-service')
  module.exports = defineConfig({
  	transpileDependencies: true,
  	// 忽略lint检查
  	lintOnSave:false,
  	// publicPath:"./",// 更改BASE_URL
  	devServer:{
  		open:true,
  		host:"zhangpeiyue.com",
  		port:80
  	},
  	pages: {
  		index: {
  			// page 的入口
  			entry: 'src/index.js',
  			// 设置网站标题
  			title:"尚品汇"
  		}
  	}
  })
  ```

* 解决三：在esling配置文件中更改 .eslintrc.js

  ```javascript
  module.exports = {
      root: true,
      env: {
          node: true
      },
      'extends': [
          'plugin:vue/essential',
          'eslint:recommended'
      ],
      parserOptions: {
          parser: '@babel/eslint-parser'
      },
      rules: {
          'no-console': process.env.NODE_ENV === 'production' ? 'warn' : 'off',
          'no-debugger': process.env.NODE_ENV === 'production' ? 'warn' : 'off',
          "vue/multi-word-component-names": "off",
          "vue/valid-v-slot":"off",
      }
  }
  ```

  

## 将首页放置到App.vue组件中

* swiper.min.css放到public->css->swiper.min.css

* 在public->index.html中引入css

  ```html
  <!DOCTYPE html>
  <html lang="">
  <head>
  	<meta charset="utf-8">
  	<link rel="icon" href="<%= BASE_URL %>favicon.ico">
  	<link rel="stylesheet" href="<%= BASE_URL >css/swiper.min.css">
  	<title><%= htmlWebpackPlugin.options.title %></title>
  </head>
  <body>
  	<div id="app"></div>
  </body>
  </html>
  
  ```

* 把home的css放在src->pages->Home->index.vue中的style标签中

  ```vue
  ...
  ```

* 把重置样式表reset.css放在index.js文件中导入

  ```js
  import "src/assets/css/reset.css"
  ```

* 安装less

  ```javascript
  npm install less-loader less -D // -D 在开发环境中使用
  ```

* 把图片放置在 src->assets->images中

* 修改html中的img的src地址为正确的地址

## 头部与底部组件

* src->components->Header->index.vue

  ```javascript
  把头部组件从APP.vue中抽离出来，同时把组件内的图片单独放置在组件中的文件夹 src->components->Home->iamges
  ```

* src->components->Footer->index.vue

  ```javascript
  把头部组件从APP.vue中抽离出来
  ```

* src->App.vue

  ```javascript
  ...
  ```

## 创建基本的路由

```javascript
首页：------>   /
登陆: --------> /login
注册:---------->/register
搜索:------------>/search
```

* 安装vue-router

  ```javascript
  cnpm install vue-router@3 // vue-router 3版本对vue2支持
  ```

* src->router->index.js

  ```javascript
  import Vue from "vue";
  import VueRouter from "vue-router";
  import Home from "@/pages/Home";
  import Login from "@/pages/Login";
  import Register from "@/pages/Register";
  import Search from "@/pages/Search";
  Vue.use(VueRouter);
  const routes = [
  	{
  		path:"/",
  		component:Home
  	},
  	{
  		path:"/login",
  		component:Login
  	},
  	{
  		path:"/Register",
  		component:Register
  	},
  	{
  		path:"/search",
  		component:Search
  	}
  ];
  const router = new VueRouter({
  	mode:"history",
  	routes
  });
  export default router;
  ```

* src->pages->Home->index.vue

* src->pages->Register->index.vue

* src->pages->Login->index.vue

* src->pages->Search->index.vue

* src->App.vue

  ```vue
  <template>
      <!-- 项目的最外层 -->
      <div>
          <!--  头部 -->
          <Header></Header>
          <router-view/>
          <!--  底部  -->
          <Footer></Footer>
      </div>
  </template>
  
  <script>
  import Home from "@/pages/Home";
  import Header from "@/components/Header";
  import Footer from "@/components/Footer";
  export default {
      name: "App",
      components: {Footer, Header, Home}
  }
  </script>
  
  <style lang="less" scoped>
  </style>
  ```

* src->index.js

  ```javascript
  import Vue from "vue";
  import App from "@/App";
  import router from "@/router";
  import "@/assets/css/reset.css";
  new Vue({
  	el:"#app",
  	router,
  	render:h=>h(App)
  })
  ```

  