# å¼€å‘æ€è·¯

```jsx
:new: ç»„ä»¶åŒ–çš„å¼€å‘æ€è·¯ï¼š

6-1. é™æ€å¸ƒå±€ï¼šç»„ä»¶æ‹†åˆ†

6-2. é¦–å±æ•°æ®æ¸²æŸ“ï¼š

- æ•°æ®ç»“æ„åˆ†æï¼š
- åˆ†ææ•°æ®å®šä¹‰åœ¨è°èº«ä¸Š

6-3. ç”¨æˆ·äº¤äº’åŠŸèƒ½å®ç°

1. æè¿°ï¼šå¹²äº†ä»€ä¹ˆ-ã€‹ä»€ä¹ˆç»“æœ
2. æ‹†åˆ†æ­¥éª¤ï¼š
3. ç»™æ­¥éª¤åŒ¹é…æŠ€æœ¯ç‚¹
```

# å¯¼åŒ…è§„èŒƒ

```shell
æŠŠç¬¬ä¸‰æ–¹çš„åŒ…æ”¾åœ¨è‡ªå®šä¹‰çš„ä¸Šè¾¹
```



# è½®æ’­å›¾ç»ƒä¹ 

:new: ä¸»é¡µé¢æ–‡ä»¶ï¼šsrc->App.js

```jsx
import React, { Component } from 'react'
import Child from './components/Class/Child'

export default class App extends Component {
    render() {
        return (
            <div>
                <h3>App</h3>
                <hr />
                <Child></Child>
            </div>
        )
    }
}
```

å¯¼å…¥å›¾ç‰‡ï¼šsrc->assets->images

```jsx
1.jpeg
2.jpeg
3.jpeg
```

å­ç»„ä»¶ï¼šsrc->components->Class->Child.jsx

```jsx
import React, { Component } from 'react'
// å¯¼å…¥æ ·å¼
import './Child.css'
export default class Child extends Component {
    // å®šä¹‰æ•°æ®çŠ¶æ€
    state = {
        imgArr: ['1.jpeg', '2.jpeg', '3.jpeg'],
        index: 0
    }
    // å®šä¹‰æ–¹æ³•
    changePicAdd(index,imgArr){
        index++;
        if (index > imgArr.length -1) {
            index = 0;
        }
        this.setState({
            index
        })
    }
    changePicSub(index, imgArr){
        index--;
        if (index < 0) {
            index = imgArr.length - 1;
        }
        this.setState({
            index
        })
    }
    render() {
        let { index,imgArr } = this.state;
        return (
            <>
                <div className='wrapper'>
                    <img src={require(`../../assets/images/${imgArr[index]}`)} alt="" />
                    <span className="" onClick={() => { this.changePicSub(index,imgArr) }}>&lt;</span>
                    <span className="rightBtn" onClick={this.changePicAdd.bind(this,index,imgArr)}>&gt;</span>
                </div>
            </>
        )
    }
}
```

å­ç»„ä»¶æ ·å¼ï¼šsrc->components->Class->Child.css

```css
.wrapper {
    position: relative;
    width: 600px;
    height: 350px;
    border: 1px solid aqua;
    margin: 50px auto;
}

.wrapper img {
    width: 100%;
    height: 100%;

}

.wrapper span {
    position: absolute;
    top: 145px;
    display: block;
    width: 30px;
    height: 60px;
    background-color: #ccc;
    line-height: 60px;
    text-align: center;
    cursor: pointer;
    user-select: none;
}

.rightBtn {
    right: 0;
}
```



# æäº¤è§„èŒƒ

```jsx
ç”¨äºè¯´æ˜git commitçš„ç±»åˆ«ï¼Œåªå…è®¸ä½¿ç”¨ä¸‹é¢çš„æ ‡è¯†ã€‚

featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ã€‚
fix/toï¼šä¿®å¤bugï¼Œå¯ä»¥æ˜¯QAå‘ç°çš„BUGï¼Œä¹Ÿå¯ä»¥æ˜¯ç ”å‘è‡ªå·±å‘ç°çš„BUGã€‚
fixï¼šäº§ç”Ÿdiffå¹¶è‡ªåŠ¨ä¿®å¤æ­¤é—®é¢˜ã€‚é€‚åˆäºä¸€æ¬¡æäº¤ç›´æ¥ä¿®å¤é—®é¢˜
toï¼šåªäº§ç”Ÿdiffä¸è‡ªåŠ¨ä¿®å¤æ­¤é—®é¢˜ã€‚é€‚åˆäºå¤šæ¬¡æäº¤ã€‚æœ€ç»ˆä¿®å¤é—®é¢˜æäº¤æ—¶ä½¿ç”¨fix
docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰ã€‚
update:
styleï¼šæ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ã€‚
refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰ã€‚
perfï¼šä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒã€‚
testï¼šå¢åŠ æµ‹è¯•ã€‚
build: æ„å»ºä¾èµ–æ›´æ”¹
ci: æ›´æ”¹ CI é…ç½®æ–‡ä»¶æˆ–è€…è„šæœ¬
choreï¼šæ›´æ”¹æ„å»ºæµç¨‹ã€æˆ–è€…å¢åŠ ä¾èµ–åº“ã€å·¥å…·ç­‰
revertï¼šå›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ã€‚
mergeï¼šä»£ç åˆå¹¶ã€‚
syncï¼šåŒæ­¥ä¸»çº¿æˆ–åˆ†æ”¯çš„Bugã€‚


feat: æ–°åŠŸèƒ½ã€æ–°ç‰¹æ€§ï¼ˆfeatureï¼‰
add: æ–°å¢åŠŸèƒ½
fix: ä¿®æ”¹ bug  // fixï¼šé€‚åˆäºä¸€æ¬¡æäº¤ç›´æ¥ä¿®å¤é—®é¢˜ toï¼šé€‚åˆäºå¤šæ¬¡æäº¤ã€‚æœ€ç»ˆä¿®å¤é—®é¢˜æäº¤æ—¶ä½¿ç”¨fix
docs: æ–‡æ¡£ä¿®æ”¹
merge: ä»£ç åˆå¹¶
deps: å‡çº§ä¾èµ–

style: ä»£ç æ ¼å¼ä¿®æ”¹, æ³¨æ„ä¸æ˜¯ css ä¿®æ”¹ï¼ˆä¿®æ”¹ä»£ç æ ¼å¼ï¼Œä¾‹å¦‚åˆ†å·ä¿®æ”¹ï¼‰
test: æµ‹è¯•ç”¨ä¾‹æ–°å¢ã€ä¿®æ”¹
revert: æ¢å¤ä¸Šä¸€æ¬¡æäº¤ã€å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬  æ’¤é”€ä¿®æ”¹
release: å‘å¸ƒæ–°ç‰ˆæœ¬

workflow: å·¥ä½œæµç›¸å…³æ–‡ä»¶ä¿®æ”¹
ci: æŒç»­é›†æˆç›¸å…³æ–‡ä»¶ä¿®æ”¹
build: å½±å“é¡¹ç›®æ„å»ºæˆ–ä¾èµ–é¡¹ä¿®æ”¹
perf: æ›´æ”¹ä»£ç ï¼Œä»¥æé«˜æ€§èƒ½ï¼ˆåœ¨ä¸å½±å“ä»£ç å†…éƒ¨è¡Œä¸ºçš„å‰æä¸‹ï¼Œå¯¹ç¨‹åºæ€§èƒ½è¿›è¡Œä¼˜åŒ–ï¼‰
refactor: ä»£ç é‡æ„ï¼ˆé‡æ„ï¼Œåœ¨ä¸å½±å“ä»£ç å†…éƒ¨è¡Œä¸ºã€åŠŸèƒ½ä¸‹çš„ä»£ç ä¿®æ”¹ï¼‰
chore: ä¿®æ”¹å·¥å…·ç›¸å…³ï¼ˆä¸åœ¨ä¸Šè¿°ç±»å‹ä¸­çš„ä¿®æ”¹ï¼Œæ”¹å˜æ„å»ºæµç¨‹ã€æˆ–è€…å¢åŠ ä¾èµ–åº“ã€å·¥å…·ç­‰ï¼‰
typesï¼š  ç±»å‹å®šä¹‰æ–‡ä»¶æ›´æ”¹
wipï¼š å¼€å‘ä¸­


releaseæè¿°
ã€æ–°å¢ã€‘æ”¯æŒusbipæ˜ å°„åŠŸèƒ½
ã€ä¸‹æ¶ã€‘ä¸‹æ¶vproè®¾å¤‡ç¡çœ åŠŸèƒ½
ã€ä¼˜åŒ–ã€‘é”å®šå®¢æˆ·ç«¯å‡çº§ä¸ºéœ€å¼ºåˆ¶ç™»å½•ï¼Œå¹¶æ”¯æŒæ›´å¤šè§£é”æ–¹å¼
```

è¡¨æƒ…åº“å¤§å…¨

```shell
https://gitmoji.dev/
```

å¸¸ç”¨è¡¨æƒ…

```js
å›¾æ ‡	emoji ä»£ç 	commit è¯´æ˜
ğŸ¨  (è°ƒè‰²æ¿)	:art:	æ”¹è¿›ä»£ç ç»“æ„/ä»£ç æ ¼å¼
âš¡ (é—ªç”µ) :zap: æå‡æ€§èƒ½
ğŸ (èµ›é©¬)	:racehorse:	æå‡æ€§èƒ½
ğŸ”¥ (ç«ç„°)	:fire:	ç§»é™¤ä»£ç æˆ–æ–‡ä»¶
ğŸ›(bug)	:bug:	ä¿®å¤ bug
ğŸš‘ (æ€¥æ•‘è½¦)	:ambulance:	é‡è¦è¡¥ä¸
âœ¨ (ç«èŠ±)	:sparkles:	å¼•å…¥æ–°åŠŸèƒ½
ğŸ“ (å¤‡å¿˜å½•)	:memo:	æ’°å†™æ–‡æ¡£
ğŸš€ (ç«ç®­)	:rocket:	éƒ¨ç½²åŠŸèƒ½
ğŸ’„ (å£çº¢)	:lipstick:	æ›´æ–° UI å’Œæ ·å¼æ–‡ä»¶
ğŸ‰ (åº†ç¥)	:tada:	åˆæ¬¡æäº¤
âœ… (ç™½è‰²å¤é€‰æ¡†)	:white_check_mark:	å¢åŠ æµ‹è¯•
ğŸ”’ (é”)	:lock:	ä¿®å¤å®‰å…¨é—®é¢˜
ğŸ (è‹¹æœ)	:apple:	ä¿®å¤ macOS ä¸‹çš„å†…å®¹
ğŸ§ (ä¼é¹…)	:penguin:	ä¿®å¤ Linux ä¸‹çš„å†…å®¹
ğŸ (æ——å¸œ)	:checked_flag:	ä¿®å¤ Windows ä¸‹çš„å†…å®¹
ğŸ¤– (Androidæœºå™¨äºº)	:robot:	ä¿®å¤Androidä¸Šçš„æŸäº›å†…å®¹ã€‚
ğŸ (ç»¿è‹¹æœ)	:green_apple:	è§£å†³iOSä¸Šçš„æŸäº›é—®é¢˜ã€‚
ğŸ”– (ä¹¦ç­¾)	:bookmark:	å‘è¡Œ/ç‰ˆæœ¬æ ‡ç­¾
ğŸš¨(è­¦è½¦ç¯)	:rotating_light:	ç§»é™¤ linter è­¦å‘Š
ğŸš§ (æ–½å·¥)	:construction:	å·¥ä½œè¿›è¡Œä¸­
ğŸ’š (ç»¿å¿ƒ)	:green_heart:	ä¿®å¤ CI æ„å»ºé—®é¢˜
â¬‡ï¸ (ä¸‹é™ç®­å¤´)	:arrow_down:	é™çº§ä¾èµ–
â¬†ï¸ (ä¸Šå‡ç®­å¤´)	:arrow_up:	å‡çº§ä¾èµ–
ğŸ“Œ (å›¾é’‰)	:pushpin:	å°†ä¾èµ–å…³ç³»å›ºå®šåˆ°ç‰¹å®šç‰ˆæœ¬ã€‚
ğŸ‘· (å·¥äºº)	:construction_worker:	æ·»åŠ  CI æ„å»ºç³»ç»Ÿ
ğŸ“ˆ (ä¸Šå‡è¶‹åŠ¿å›¾)	:chart_with_upwards_trend:	æ·»åŠ åˆ†ææˆ–è·Ÿè¸ªä»£ç 
â™»ï¸ (å¾ªç¯ç®­å¤´)	:recycle:	é‡æ„ä»£ç ã€‚
ğŸ”¨ (é”¤å­)	:hammer:	é‡å¤§é‡æ„
â– (å‡å·)	:heavy_minus_sign:	å‡å°‘ä¸€ä¸ªä¾èµ–
ğŸ³ (é²¸é±¼)	:whale:	Docker ç›¸å…³å·¥ä½œ
â• (åŠ å·)	:heavy_plus_sign:	å¢åŠ ä¸€ä¸ªä¾èµ–
ğŸ”§ (æ‰³æ‰‹)	:wrench:	ä¿®æ”¹é…ç½®æ–‡ä»¶
ğŸŒ (åœ°çƒ)	:globe_with_meridians:	å›½é™…åŒ–ä¸æœ¬åœ°åŒ–
âœï¸ (é“…ç¬”)	:pencil2:	ä¿®å¤ typo
ğŸ’© (çªçœ¼)	:hankey:	ç¼–å†™éœ€è¦æ”¹è¿›çš„é”™è¯¯ä»£ç ã€‚
âª (åŒå·¦ç®­å¤´)	:rewind:	æ¢å¤æ›´æ”¹ã€‚
ğŸ”€ (åŒåˆå¹¶ç®­å¤´)	:twisted_rightwards_arrows:	åˆå¹¶åˆ†æ”¯ã€‚
ğŸ“¦ (ç®±å­)	:package:	æ›´æ–°ç¼–è¯‘çš„æ–‡ä»¶æˆ–åŒ…ã€‚
ğŸ‘½ (é¢å…·)	:alien:	ç”±äºå¤–éƒ¨APIæ›´æ”¹è€Œæ›´æ–°ä»£ç ã€‚
ğŸšš (é¢åŒ…è½¦)	:truck:	ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶ã€‚
ğŸ“„ (æ–‡æ¡£)	:page_facing_up:	æ·»åŠ æˆ–æ›´æ–°è®¸å¯è¯ã€‚
ğŸ’¥ (çˆ†ç‚¸)	:boom:	ä»‹ç»çªç ´æ€§å˜åŒ–ã€‚
ğŸ± (è£…æ»¡é¤ç›˜)	:bento:	æ·»åŠ æˆ–æ›´æ–°èµ„äº§ã€‚
ğŸ‘Œ (OKæ‰‹åŠ¿)	:ok_hand:	ç”±äºä»£ç å®¡æŸ¥æ›´æ”¹è€Œæ›´æ–°ä»£ç ã€‚
â™¿ (åå§¿)	:wheelchair:	æé«˜å¯è®¿é—®æ€§ã€‚
ğŸ’¡ (ç¯æ³¡)	:bulb:	è®°å½•æºä»£ç ã€‚
ğŸ» (å¹²æ¯)	:beers:	é†‰ç”Ÿæ¢¦æ­»çš„å†™ä»£ç ã€‚
ğŸ’¬ (æç¤ºæ )	:speech_balloon:	æ›´æ–°æ–‡å­—å’Œæ–‡å­—ã€‚
ğŸ—ƒ (å¡ç‰‡ç›’å­)	:card_file_box:	æ‰§è¡Œä¸æ•°æ®åº“ç›¸å…³çš„æ›´æ”¹ã€‚
ğŸ”Š (æœ‰å£°å–‡å­)	:loud_sound:	æ·»åŠ æ—¥å¿—ã€‚
ğŸ”‡ (é™éŸ³å–‡å­)	:mute:	åˆ é™¤æ—¥å¿—ã€‚
ğŸ‘¥ (ä¸¤ä¸ªäººå¤´)	:busts_in_silhouette:	æ·»åŠ è´¡çŒ®è€…ã€‚
ğŸš¸ (å°ç›†å‹)	:children_crossing:	æ”¹å–„ç”¨æˆ·ä½“éªŒ/å¯ç”¨æ€§ã€‚
ğŸ— (åŠè½¦)	:building_construction:	è¿›è¡Œæ¶æ„æ›´æ”¹ã€‚
ğŸ“± (æ‰‹æœº)	:iphone:	è‡´åŠ›äºå“åº”å¼è®¾è®¡ã€‚
ğŸ¤¡ (å°ä¸‘)	:clown_face:	å˜²ç¬‘äº‹ç‰©ã€‚
ğŸ¥š (å½©è›‹)	:egg:	æ·»åŠ ä¸€ä¸ªå¤æ´»èŠ‚å½©è›‹ã€‚
ğŸ™ˆ (è’™çœ¼çŒ´å­)	:see_no_evil:	æ·»åŠ æˆ–æ›´æ–°.gitignoreæ–‡ä»¶ã€‚
ğŸ“¸ (ç…§ç›¸æœº)	:camera_flash:	æ·»åŠ æˆ–æ›´æ–°å¿«ç…§ã€‚

```

```js
/*
emoji	emoji ä»£ç 	commit è¯´æ˜

feat	âœ¨ :new:	å¼•å…¥æ–°åŠŸèƒ½
fix	    ğŸ›	:bug:   ä¿®å¤ bug
style	ğŸ’„	:lipstick: æ›´æ–° UI æ ·å¼æ–‡æŒ‰é”®
format	ğŸ¥š	:art: æ ¼å¼åŒ–ä»£ç 
docs	ğŸ“	:memo:/:book: æ·»åŠ /æ›´æ–°æ–‡æ¡£
perf	ğŸ‘Œ	:zap:/:racehorse: æé«˜æ€§èƒ½/ä¼˜åŒ–
init	ğŸ‰	:tada: åˆæ¬¡æäº¤/åˆå§‹åŒ–é¡¹ç›®
test	âœ…	:white_check_mark: å¢åŠ æµ‹è¯•ä»£ç 
refactor ğŸ¨	:art: æ”¹è¿›ä»£ç ç»“æ„/ä»£ç æ ¼å¼
patch	ğŸš‘	:ambulance: æ·»åŠ é‡è¦è¡¥ä¸
file	ğŸ“¦:package:	æ·»åŠ packageæ–‡ä»¶ (æ›´æ–°ç¼–è¯‘çš„æ–‡ä»¶æˆ–åŒ…)
publish	ğŸš€:rocket:	å‘å¸ƒæ–°ç‰ˆæœ¬
tag	ğŸ“Œ	:pushpin: å°†ä¾èµ–å…³ç³»å›ºå®šåˆ°ç‰¹å®šç‰ˆæœ¬
ci ğŸ‘·  :construction_worker: æ·»åŠ  CI æ„å»ºç³»ç»Ÿ /  :green_heart:ä¿®å¤ CI æ„å»ºé—®é¢˜ 
config	ğŸ”§	:wrench: ä¿®æ”¹é…ç½®æ–‡ä»¶
git	ğŸ™ˆ :see_no_evil:	æ·»åŠ æˆ–ä¿®æ”¹.gitignore æ–‡ä»¶
chore	âš¡ :zap: 	ğŸ:racehorse:  æ”¹å˜æ„å»ºæµç¨‹ã€æˆ–è€…å¢åŠ ä¾èµ–åº“ã€å·¥å…·ç­‰
delete	ğŸ”¥	:fire: ç§»é™¤ä»£ç æˆ–æ–‡ä»¶
*/
```

```js
git commit æäº¤è§„èŒƒ
Conventional Commits æ˜¯ç”±ä¼—å¤šå¼€æºé¡¹ç›®è´¡çŒ®è€…å…±åŒçº¦å®šçš„ä¸€ä¸ªè§„èŒƒï¼Œç”¨æ¥çº¦å®š Git Commit å†…å®¹çš„ä¹¦å†™æ–¹å¼ï¼Œè®© commit å†…å®¹æ›´æœ‰ä»·å€¼ã€æ¡ç†ï¼Œä½¿æäº¤å†å²æ˜ç¡®å¯è¿½æº¯ã€‚

æ ¼å¼å¦‚ä¸‹ï¼š

<type>(<scope>): <subject>
<BLANK LINE>
<body>
<BLANK LINE>
<footer>

æäº¤æ¶ˆæ¯çš„ä»»ä½•ä¸€è¡Œéƒ½ä¸èƒ½è¶…è¿‡100ä¸ªå­—ç¬¦ï¼è¿™ä½¿å¾—æ¶ˆæ¯æ›´å®¹æ˜“åœ¨githubä»¥åŠå„ç§gitå·¥å…·ä¸Šé˜…è¯»ã€‚
æäº¤æ¶ˆæ¯ç”±é¡µçœ‰ã€æ­£æ–‡å’Œé¡µè„šç»„æˆï¼Œç”±ç©ºè¡Œåˆ†éš”ã€‚

æäº¤æ¶ˆæ¯å¤´(commit message header)
Headeréƒ¨åˆ†åªæœ‰ä¸€è¡Œï¼ŒåŒ…æ‹¬ä¸‰ä¸ªå­—æ®µï¼štypeï¼ˆå¿…éœ€ï¼‰ã€scopeï¼ˆå¯é€‰ï¼‰å’Œsubjectï¼ˆå¿…éœ€ï¼‰ã€‚

scope
å†æ˜¯scopeï¼Œé€‰å¡«ï¼Œç”¨äºé˜æ˜æœ¬æ¬¡commit å½±å“çš„èŒƒå›´ï¼Œå¦‚ä¸æ•°æ®é¢„å¤„ç†ç›¸å…³ã€æŸæ¨¡å—åŠŸèƒ½ç›¸å…³ç­‰

body
é€‰å¡«ï¼Œè¯¦ç»†æè¿°æœ¬æ¬¡çš„commitï¼Œä¸€èˆ¬å°çš„ä¿®æ”¹åœ¨ä¸Šé¢descriptionå³å¯æè¿°æ¸…æ¥šï¼Œè€Œé‡å¤§æ›´æ–°å°½é‡æŠŠbodyå†™çš„è¯¦å°½ï¼Œå¯åˆ†è¡Œ

footer
ä¸€èˆ¬åªæ¶‰åŠBREAKING CHANGEå’ŒISSUEç›¸å…³
BREAKING CHANGEï¼šæ¯”å¦‚æ¶‰åŠé‡å¤§å˜æ›´åˆ™æœ¬éƒ¨åˆ†ä¸ºå¿…å¡«é¡¹ï¼Œç±»ä¼¼ç‰ˆæœ¬å‡çº§ã€æ¥å£å˜æ›´ç­‰
ISSUEç›¸å…³ï¼šå¦‚å½“å‰ commit é’ˆå¯¹æŸä¸ªissueï¼Œå¯è¿›è¡Œå¼•ç”¨/å…³é—­


```

```shell
ä¾‹å­

# å¸¦æœ‰descriptionå’Œ breaking change footerçš„commit
feat: allow provided config object to extend other configs

BREAKING CHANGE: `extends` key in config file is now used for extending other config files

# ä½¿ç”¨!æäº¤æ¶ˆæ¯ä»¥å¼•èµ·å¯¹é‡å¤§æ›´æ”¹çš„æ³¨æ„
feat!: send an email to the customer when a product is shipped

# æäº¤å¸¦æœ‰èŒƒå›´å’Œ!çš„æ¶ˆæ¯
feat(api)!: send an email to the customer when a product is shipped

# æäº¤å¸¦æœ‰!å’ŒBREAKING CHANGE footerçš„æ¶ˆæ¯
chore!: drop support for Node 6

BREAKING CHANGE: use JavaScript features not available in Node 6.

# æäº¤æ²¡æœ‰æ­£æ–‡çš„æ¶ˆæ¯
docs: correct spelling of CHANGELOG

# æäº¤å…·æœ‰å¤šæ®µè½bodyå’Œå¤šä¸ªfooterçš„æ¶ˆæ¯
fix: prevent racing of requests

Introduce a request id and a reference to latest request. Dismiss
incoming responses other than from latest request.

Remove timeouts which were used to mitigate the racing issue but are
obsolete now.

Reviewed-by: Z
Refs: #123
```

```js
:emoji1: :emoji2: ä¸è¶…è¿‡ 50 ä¸ªå­—çš„æ‘˜è¦ï¼Œé¦–å­—æ¯å¤§å†™ï¼Œä½¿ç”¨ç¥ˆä½¿è¯­æ°”ï¼Œå¥æœ«ä¸è¦åŠ å¥å·
æäº¤ä¿¡æ¯ä¸»ä½“å¼•ç”¨ç›¸å…³ issue æˆ– PR ç¼–å· <#110>
    
git commit -m ":tada: Initialize Repo"

subject æ˜¯ commit ç›®çš„çš„ç®€çŸ­æè¿°ï¼Œä¸è¶…è¿‡ 50/80 ä¸ªå­—ç¬¦ï¼Œä¸€èˆ¬ git æäº¤çš„æ—¶å€™ä¼šæœ‰é¢œè‰²æç¤ºã€‚

è‹¥è‹±æ–‡ç”¨ä¸æƒ¯ï¼Œé‚£ä¹ˆæ¨èä½¿ç”¨ä¸­æ–‡
è‹¥æ˜¯å¼€æºä»£ç ï¼Œä¸€å¾‹æ¨èç»Ÿä¸€è‹±æ–‡ï¼Œè‹±æ–‡ä¸è¡Œå¯ä»¥ç¿»è¯‘è½¯ä»¶ç”¨èµ·æ¥
è‹¥æ˜¯å¼€æºä»£ç ï¼Œå¯ä»¥å†é™„åŠ å¯¹åº”çš„ issue åœ°å€
ç»“å°¾ä¸åŠ æ ‡ç‚¹ç¬¦å·
```

æ¨¡ç‰ˆ

```shell
# headr: <type>(<scope>): <subject>
# - type: feat, fix, docs, style, refactor, test, chore
# - scope: can be empty
# - subject: start with verb (such as 'change'), 50-character line
#
# body: 72-character wrapped. This should answer:
# * Why was this change necessary?
# * How does it address the problem?
# * Are there any side effects?
#
# footer:
# - Include a link to the issue.
# - BREAKING CHANGE
#
```

è§„èŒƒç¤ºä¾‹ï¼š

```
Subject

Subject æ˜¯ commit æ¶ˆæ¯çš„ç¬¬ä¸€è¡Œï¼Œåº”è¯¥æ˜¯ä¸€ä¸ªç®€çŸ­çš„æè¿°ï¼Œä¸è¶…è¿‡50ä¸ªå­—ç¬¦ã€‚å®ƒåº”è¯¥æ¸…æ¥šåœ°è¡¨æ˜å˜æ›´çš„ç›®çš„æˆ–æ„å›¾ï¼Œå¹¶ä¸”ä½¿ç”¨äº†æ˜ç¡®çš„è¯­è¨€ã€‚å¸¸ç”¨çš„åŠ¨è¯åŒ…æ‹¬ï¼š
Addï¼šæ–°å¢åŠŸèƒ½æˆ–æ–‡ä»¶
Fixï¼šä¿®å¤ bug
Changeï¼šæ›´æ”¹å·²æœ‰ä»£ç 
Refactorï¼šé‡æ„ä»£ç ï¼Œå³ä¸ä¿®æ”¹åŠŸèƒ½çš„æ”¹å˜
Removeï¼šåˆ é™¤æ–‡ä»¶æˆ–åŠŸèƒ½
Documentï¼šä¿®æ”¹æ–‡æ¡£
Styleï¼šä¿®æ”¹ä¸å½±å“ä»£ç è¿è¡Œçš„æ ·å¼ï¼Œå¦‚ç©ºæ ¼ã€ç¼©è¿›ç­‰
Testï¼šå¢åŠ æˆ–ä¿®æ”¹æµ‹è¯•

Body

Body éƒ¨åˆ†æ˜¯å¯¹ commit å†…å®¹çš„è¯¦ç»†æè¿°ï¼Œå®ƒåº”è¯¥è§£é‡Šä»£ç å˜æ›´çš„åŠ¨æœºï¼Œå¹¶ä¸”æä¾›ä¸ commit ç›®çš„ç›¸å…³çš„èƒŒæ™¯ä¿¡æ¯ã€‚Body åº”è¯¥åŒ…å«ä¿®æ”¹çš„åŠ¨æœºï¼Œä¸å…¶ä»–ç›¸å…³çš„ä¿®æ”¹å¦‚ä½•äº¤äº’ï¼Œä»¥åŠæ˜¯å¦‚ä½•å®ç°çš„ã€‚
```

ä¸‹é¢æ˜¯ä¸€ä¸ªéµå¾ªä¸Šè¿°åŸåˆ™çš„ commit message ç¤ºä¾‹ï¼š

```jsx

Fix: ä¿®å¤ç™»å½•å¤±è´¥æ—¶æœªæ¸…é™¤tokençš„é—®é¢˜

åœ¨ç”¨æˆ·ç™»å½•å¤±è´¥æ—¶ï¼Œtokenå¯èƒ½è¢«é”™è¯¯åœ°æ¸…é™¤ã€‚è¿™ä¸ªé—®é¢˜åœ¨æŸäº›ç‰¹å®šæ¡ä»¶ä¸‹æ‰ä¼šå‡ºç°ï¼Œå¹¶ä¸”å¯èƒ½å¯¼è‡´ç”¨æˆ·ç™»å½•çŠ¶æ€ä¸¢å¤±ã€‚

ä¿®å¤æ–¹æ³•ï¼šåªæœ‰åœ¨ç™»å½•æˆåŠŸåæ‰æ¸…é™¤tokenã€‚

Closes #123
```

chatGpt

```shell
Git commit è§„èŒƒé€šå¸¸åˆ†ä¸ºæ ‡é¢˜ã€æ­£æ–‡å’Œå°¾éƒ¨ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„å†™æ³•ï¼š

1. æ ‡é¢˜
æ ¼å¼ï¼š<ç±»å‹>(<èŒƒå›´>): <ä¸»é¢˜>
ç±»å‹ï¼šå¸¸è§çš„æœ‰ featï¼ˆåŠŸèƒ½ï¼‰ã€fixï¼ˆä¿®å¤ï¼‰ã€docsï¼ˆæ–‡æ¡£ï¼‰ã€styleï¼ˆæ ¼å¼ï¼‰ã€refactorï¼ˆé‡æ„ï¼‰ã€testï¼ˆæµ‹è¯•ï¼‰ã€choreï¼ˆæ‚é¡¹ï¼‰ã€‚
èŒƒå›´ï¼šå¯é€‰ï¼Œç”¨äºæè¿°ä»£ç çš„å½±å“èŒƒå›´ã€‚
ä¸»é¢˜ï¼šç®€æ´æ˜äº†çš„æè¿°ï¼Œé¦–å­—æ¯å°å†™ï¼Œä¸è¶…è¿‡ 50 å­—ç¬¦ã€‚
2. æ­£æ–‡
å†…å®¹ï¼šè¯¦ç»†è¯´æ˜æ›´æ”¹çš„èƒŒæ™¯å’ŒåŸå› ï¼Œæ¨èä½¿ç”¨ä¸»åŠ¨è¯­æ€ã€‚
æ ¼å¼ï¼šæ¯è¡Œä¸è¶…è¿‡ 72 å­—ç¬¦ï¼Œå¯ä»¥åˆ†æ®µã€‚
3. å°¾éƒ¨
å†…å®¹ï¼šå¯é€‰ï¼Œç”¨äºå…³è”ç›¸å…³çš„ issueã€bug æˆ–å…¶ä»–å¤‡æ³¨ï¼Œæ ¼å¼å¦‚ Fixes #issue_numberã€‚
```

ç¤ºä¾‹

```jsx
feat(auth): æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½

å®ç°äº†ç”¨æˆ·è®¤è¯çš„åç«¯é€»è¾‘ï¼Œå¢åŠ äº†ç™»å½•é¡µé¢å’Œè¡¨å•éªŒè¯ã€‚
- ç”¨æˆ·å¯ä»¥é€šè¿‡ç”µå­é‚®ä»¶å’Œå¯†ç ç™»å½•
- å¢åŠ äº†é”™è¯¯å¤„ç†å’ŒéªŒè¯é€»è¾‘
- æ›´æ–°äº†ç›¸å…³çš„ API æ–‡æ¡£

Fixes #123
```



# Cssæ ·å¼å¤„ç†

```jsx
ç¬¬ä¸‰æ–¹çš„cssæ ·å¼åº“ï¼š bootstrap.css

- æ–¹å¼ä¸€ï¼š
  ä½ç½®ï¼špublic/css/bootstrap.css
  å¼•å…¥æ–¹å¼ï¼špublic/index.html é€šè¿‡ linkæ ‡ç­¾å¼•å…¥
  <link rel="stylesheet" herf="%PUBLIC_URL%/css/bootstrap.css">æˆ–
	<!-- /å‰è¾¹æ²¡æœ‰./  /æ ‡è¯†ä¸€ä¸ªç»å¯¹ç›®å½•ï¼Œè¡¨ç¤ºçš„æ˜¯ç½‘ç«™çš„æ ¹ç›®å½•-->
  <link rel="stylesheet" herf="/css/bootstrap.css">
      
      
- æ–¹å¼äºŒï¼š
  1. å®‰è£…æ ·å¼åº“ï¼š `npm i bootstrap@3`
  2. åœ¨å…¥å£æ–‡ä»¶ src->index.js ä½¿ç”¨import è¯­æ³•å¯¼å…¥æ ·å¼ï¼š
  import 'bootstrap/dist/css/bootstrap.min.css'
```

```jsx
é‡ç½®æ ·å¼ï¼š
ä½ç½®ï¼šsrc/index.css
å¼•å…¥ï¼šåœ¨å…¥å£æ–‡ä»¶ src/index.js é€šè¿‡ import å¯¼å…¥
```

```jsx
å…¨å±€é€šç”¨æ ·å¼:
ä½ç½®ï¼šsrc/App.css
å¼•å…¥ï¼šåœ¨ä¸»Appé¡µé¢ä¸­ src/App.jsx é€šè¿‡ import å¯¼å…¥
```

```jsx
ç»„ä»¶å†…æ ·å¼:
ä½ç½®ï¼šç»„ä»¶ç›®å½•çš„cssæ–‡ä»¶ä¸­
å¯¼å…¥ï¼šç»„ä»¶ä¸­ä½¿ç”¨import å¯¼å…¥
```

## BootStrapè­¦å‘Š

å†å¯¼å…¥bootstrap.cssåä¼šåœ¨æ§åˆ¶å°æç¤ºbootstrap.mapè¿™ä¸ªè­¦å‘Š,å¯ä»¥åœ¨bootstrap.cssæ–‡ä»¶çš„æœ«å°¾åˆ é™¤æœ€åä¸€è¡Œæ³¨é‡Šå³å¯ã€‚

# Cssæ¨¡å—åŒ–

```shell
cssæ¨¡å—åŒ–ï¼šå°†cssæ–‡ä»¶å˜ä¸º jsæ¨¡å—è¿›è¡Œå¤„ç†

ä½œç”¨ï¼šåœ¨æ ·å¼åä½¿ç”¨ä¸€ä¸ªéšæœºçš„æ•°å­—åç¼€,è§£å†³ç»„ä»¶åŒç±»åçš„æ ·å¼å†²çªé—®é¢˜,åŸç”ŸCssé»˜è®¤åè¾¹å¯¼å…¥çš„æ ·å¼ä¼šè¦†ç›–å‰è¾¹å¯¼å…¥çš„ã€‚
æ­¥éª¤ï¼š

#1. cssæ–‡ä»¶åï¼šå¿…é¡»ä»¥ æ–‡ä»¶å.module.css åç¼€ç»“å°¾
#2. ä½¿ç”¨import è¯­æ³•å¯¼å…¥cssæ¨¡å—å¹¶å­˜å‚¨æˆ jså˜é‡

ä¾‹å¦‚ï¼š
import styles from './index.module.css'
console.log('styles: ', styles); // {box: 'B_box__-Qmig'}
#3. ä½¿ç”¨æ’å€¼è¡¨è¾¾å¼ç»™classNameèµ‹å€¼ï¼Œä¹‹ä¸º stylesä¸­çš„ç±»å

import React, { Component } from 'react'
// 2 å¯¼å…¥cssæ¨¡å—å¹¶å­˜å‚¨æˆjså˜é‡
import styles from './index.module.css'
console.log('styles: ', styles); // stylesè¢«å¤„ç†æˆäº†ä¸€ä¸ªå¯¹è±¡
export default class B extends Component {
    render() {
        return (
            <>
            	<div className={styles.box}>B</div>
            	<div className={[styles.box, styles.app, 'container'].join(' ')}>Bå¤šä¸ªç±»å</div>
            </>
        )
    }
}
```

# å›¾ç‰‡å¤„ç†

```jsx
1. ç½‘ç»œå›¾ç‰‡ï¼š
ç›´æ¥å¡«å…¥ç½‘ç»œåœ°å€å³å¯

2. æœ¬åœ°å›¾ç‰‡: 
å‰æï¼šå­˜æ”¾ä½ç½®å¿…é¡»åœ¨srcç›®å½•ä¸­
2-1. ä½¿ç”¨ import å¯¼å…¥
import imgSrc from './assets/images/1.jpeg'
<img src={imgSrc} alt="" />
2-2. ä½¿ç”¨ require å¯¼å…¥
// å®šä¹‰æ•°æ®çŠ¶æ€
state = {
    index:2
}
// ä½¿ç”¨æ¨¡ç‰ˆå­—ç¬¦ä¸²æŠŠå¯¹åº”ä½ç½®æ›¿æ¢ä¸ºå˜é‡
<img src={require(`./assets/images/${index}.jpeg`)} alt="" />

```

> import å¯¼å…¥å’Œ requireå¯¼å…¥å›¾ç‰‡çš„å·®åˆ«ï¼š
>
> requireå¯¼å…¥å¯ä»¥çœ‹åˆ°å›¾ç‰‡çš„è·¯å¾„ï¼Œå¯ä»¥é€šè¿‡çŠ¶æ€æ•°æ®æ§åˆ¶å¯¼å…¥çš„å›¾ç‰‡ç›®å½•
>
> importå¯¼å…¥çš„å›¾ç‰‡è·¯å¾„æ˜¯å†™æ­»çš„ï¼Œä¸èƒ½æ§åˆ¶

# å…³é—­eslintè¯­æ³•æ£€æŸ¥

å…³é—­eslintè¯­æ³•æ£€æŸ¥ï¼Œåœ¨package.jsä¸­é…ç½®

```js
...
"eslintConfig": {
        "extends": [
            "react-app",
            "react-app/jest"
        ],
        "rules": {
            "xxx":0
        }
    },
...
```

ç„¶åé‡å¯é¡¹ç›®

# TodoList ç±»ç»„ä»¶

## é™æ€é¡µé¢æ‹†åˆ†

```jsx
1. åˆ›å»ºcomponentsç›®å½•
2. åˆ›å»º TodoListã€Headerã€Mainã€Itemã€Footerç›®å½•
3. åˆ›å»ºç»„ä»¶[jsx]åŠcssæ–‡ä»¶
4. åœ¨å„ä¸ªç»„ä»¶ä¸­å¯¼å…¥ cssæ ·å¼ import './index.css'
5. å°†todolisté™æ€é¡µé¢çš„æ•´ä½“ç»“æ„æ‹·è´åˆ° TodoList/Todolist.jsxçš„ç»“æ„ä¸­
6. å°†æ ·å¼æ‹·è´åˆ° TodoList/index.cssä¸­
7. å°†TodoList.jsxä¸­çš„ class ===> className
8. å°†TodoList.jsxä¸­çš„ ç»“æ„ æ‹†åˆ†åˆ°å„ä¸ªç»„ä»¶ä¸­
9. å°†TodoList/index.css çš„æ ·å¼ï¼Œæ‹†åˆ†åˆ°å„ä¸ªç»„ä»¶ä¸­
```

## æ•°æ®ç»“æ„åˆ†æ

```jsx
let todos = [
    {
        id:xxx,
        title:'åƒé¥­',
        isDone:true | false
    }
]
```

åˆ†ææ•°æ®åº”è¯¥å®šä¹‰åœ¨å“ªä¸ªç»„ä»¶èº«ä¸Š

```shell
åŸåˆ™ï¼š
1. å¦‚æœæ•°æ®åªåœ¨ä¸€ä¸ªç»„ä»¶èº«ä¸Šä½¿ç”¨ï¼Œé‚£ä¹ˆå°±å½“ä»¥åœ¨è¯¥ç»„ä»¶è‡ªå·±èº«ä¸Š
2. å¦‚æœæ•°æ®åœ¨å¤šä¸ªç»„ä»¶éƒ½éœ€è¦ä½¿ç”¨ï¼Œé‚£ä¹ˆå®šä¹‰åœ¨ä»–ä»¬å…±åŒçš„çˆ¶çº§èº«ä¸Š[ä¹Ÿå«åšçŠ¶æ€æå‡]
```

## å®ç°æ€è·¯

```jsx
å®ç°ç”¨æˆ·äº¤äº’åŠŸèƒ½

æ€è·¯ç”Ÿæˆæ­¥éª¤ï¼šæè¿°ä½ è¦åšä»€ä¹ˆï¼Œäº§ç”Ÿäº†ä»€ä¹ˆç»“æœ

1. æ–‡æœ¬æ¡†è¾“å…¥å†…å®¹ï¼ŒæŒ‰ä¸‹å›è½¦ï¼Œå°†å†…å®¹æ·»åŠ åˆ°åˆ—è¡¨ä¸­
2. æ‹†åˆ†æ­¥éª¤:
	2.1 è·å–æ–‡æœ¬æ¡†è¾“å…¥å†…å®¹
    2.2 æŒ‰ä¸‹å›è½¦
    2.3 å°†å†…å®¹æ·»åŠ åˆ°åˆ—è¡¨ä¸­
3. ç»™æ­¥éª¤åŒ¹é…ä½ èƒ½æƒ³åˆ°çš„æŠ€æœ¯ç‚¹
	3.1 è·å–æ–‡æœ¬æ¡†è¾“å…¥å†…å®¹
    	ref
        å—æ§ç»„ä»¶
        e.target.value
    3.2 æŒ‰ä¸‹å›è½¦
    	ç»‘å®šäº‹ä»¶-é”®ç›˜äº‹ä»¶ keyup keydown  onKeyUp  onKeyDown
    3.3 å°†å†…å®¹æ·»åŠ åˆ°åˆ—è¡¨ä¸­
    	å­ä¼ çˆ¶
```

## é¦–å±æ¸²æŸ“

```shell
-- ä½¿ç”¨nanoidåŒ…ç”Ÿæˆä¸€ä¸ªä¸é‡å¤çš„id
# å®‰è£…
npm i nanoid
# å¯¼å…¥
import {nanoid} from 'nanoid'
# è°ƒç”¨
nanoid()

-- ä½¿ç”¨randomæ–¹æ³•ç”Ÿæˆä¸€ä¸ªä¸é‡å¤çš„id 36=10ä½æ•°å­—åŠ 26ä½å­—æ¯
Math.random().toString(36).slice(2)
```

```js
é¦–å±æ•°æ®æ¸²æŸ“å®ç°æ­¥éª¤åŠæŠ€æœ¯ç‚¹
1. å°†todos æ•°æ®å®šä¹‰æˆ TodoList ç»„ä»¶çš„çŠ¶æ€
2. å°† todosæ•°æ® é€šè¿‡æ ‡ç­¾å±æ€§çš„æ–¹å¼ä¼ é€’ç»™ Mainç»„ä»¶å’Œ Footerç»„ä»¶
3. åœ¨Mainç»„ä»¶ä¸­æ¥æ”¶todosï¼Œå¹¶ä½¿ç”¨mapè¿›è¡Œåˆ—è¡¨æ¸²æŸ“ï¼Œå®šä¹‰keyå€¼ï¼Œå¹¶å°†éå†çš„æ¯ä¸€é¡¹ todoä¼ é€’ç»™ Itemç»„ä»¶
4. åœ¨Footerç»„ä»¶ä¸­æ¥æ”¶todosï¼Œè®¡ç®—total å’Œ doneNumåè¿›è¡Œæ¸²æŸ“
```

src->components->TodoList->TodoList.jsx

```shell
1. å°†todos æ•°æ®å®šä¹‰æˆ TodoList ç»„ä»¶çš„çŠ¶æ€
2. å°† todosæ•°æ® é€šè¿‡æ ‡ç­¾å±æ€§çš„æ–¹å¼ä¼ é€’ç»™ Mainç»„ä»¶å’Œ Footerç»„ä»¶
```

```jsx
import React, { Component } from 'react'
import {nanoid} from 'nanoid'
import Footer from '../Footer/Footer'
import Header from '../Header/Header'
import Main from '../Main/Main'
import './index.css'

export default class TodoList extends Component {
    state={
        todos:[
            {
                id:nanoid(),
                title:'å¸çƒŸ',
                isDone:true
            },
            {
                id: nanoid(),
                title: 'å–é…’',
                isDone: true
            },
            {
                id: nanoid(),
                title: 'çƒ«å¤´',
                isDone: false
            }
        ]
    }
    render() {
        let { todos } = this.state
        return (
            <>
                <div className="todo-container">
                    <div className="todo-wrap">
                        <Header />
                        <Main todos={todos}/>
                        <Footer todos={todos} />
                    </div>
                </div>
            </>
        )
    }
}
```

src->components->Main->Main.jsx

```jsx
åœ¨Mainç»„ä»¶ä¸­æ¥æ”¶todosï¼Œå¹¶ä½¿ç”¨mapè¿›è¡Œåˆ—è¡¨æ¸²æŸ“ï¼Œå®šä¹‰keyå€¼ï¼Œå¹¶å°†éå†çš„æ¯ä¸€é¡¹ todoä¼ é€’ç»™ Itemç»„ä»¶
import React, { Component } from 'react'
import Item from '../Item/Item'
import './index.css'
export default class Main extends Component {
    render() {
        let {todos} = this.props
        return (
            <ul className="todo-main">
                {todos.map(todo => (<Item key={todo.id} todo={todo} />))}
            </ul>
        )
    }
}
```

src->components->Item->Item.jsx

```jsx
import React, { Component } from 'react'
import './index.css'
export default class Item extends Component {
    render() {
        let {todo} = this.props
        return (
            <li>
                <label>
                    <input type="checkbox" checked={todo.isDone} />
                    <span>{todo.title}</span>
                </label>
                <button className="btn btn-danger">åˆ é™¤</button>
            </li>
        )
    }
}
```

src->components->Footer->Footer.jsx

```jsx
import React, { Component } from 'react'
import './index.css'
export default class Footer extends Component {
    render(){
        // æ¥æ”¶todos
        let {todos} = this.props
        // æ€»æ¡æ•°
        let total = todos.length;
        // å·²å®Œæˆæ•°é‡
        let doneNum = todos.reduce((pre,item)=>{
            // ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢
            return pre + item.isDone
        },0)
        return(
            <div className="todo-footer">
                <label>
                    <input type="checkbox" />
                </label>
                <span>
                    <span>å·²å®Œæˆ {doneNum}</span> / å…¨éƒ¨ {total}
                </span>
                <button className="btn btn-danger">æ¸…é™¤å·²å®Œæˆä»»åŠ¡</button>
            </div>
        )
    }
}
```

## æ·»åŠ ä»»åŠ¡

```jsx
æ€è·¯:
æ–‡æœ¬æ¡†è¾“å…¥å†…å®¹ï¼ŒæŒ‰ä¸‹å›è½¦ï¼Œå°†å†…å®¹æ·»åŠ åˆ°åˆ—è¡¨ä¸­
1. æ‹†åˆ†æ­¥éª¤ï¼š
   1. è·å–æ–‡æœ¬æ¡†è¾“å…¥å†…å®¹
   2. æŒ‰ä¸‹å›è½¦
   3. å°†å†…å®¹æ·»åŠ åˆ°åˆ—è¡¨ä¸­
2. ç»™æ­¥éª¤åŒ¹é…ä½ èƒ½æƒ³åˆ°çš„æŠ€æœ¯ç‚¹
   1. è·å–æ–‡æœ¬æ¡†è¾“å…¥å†…å®¹
      1. ref
      2. å—æ§ç»„ä»¶
      3. e.target.value
   2. æŒ‰ä¸‹å›è½¦
      1. ç»‘å®šäº‹ä»¶-é”®ç›˜äº‹ä»¶ keyup keydown  onKeyUp  onKeyDown
   3. å°†å†…å®¹æ·»åŠ åˆ°åˆ—è¡¨ä¸­
      å­ä¼ çˆ¶(é€šè¿‡è°ƒç”¨çˆ¶äº²è‡ªèº«çš„æ–¹æ³•[this.props]ï¼Œä¼ é€’å‚æ•°ä»è€Œä¿®æ”¹çˆ¶äº²ä¸­çš„æ•°æ®çŠ¶æ€)
```

src->components->TodoList->TodoList.jsx

```jsx
import React, { Component } from 'react'
import {nanoid} from 'nanoid'
import Footer from '../Footer/Footer'
import Header from '../Header/Header'
import Main from '../Main/Main'
import './index.css'

export default class TodoList extends Component {
    state={
        todos:[
            {
                id:nanoid(),
                title:'å¸çƒŸ',
                isDone:true
            },
            {
                id: nanoid(),
                title: 'å–é…’',
                isDone: true
            },
            {
                id: nanoid(),
                title: 'çƒ«å¤´',
                isDone: false
            }
        ]
    }
    addTodo(title){
        // æ‹¼æ¥ä¸€ä¸ªæ–°çš„todo
        let todo = {
            id:nanoid(),
            title,
            isDone:false
        }
        // å°†todoåŠ å…¥åˆ°todosçŠ¶æ€ä¸­
        this.setState({
            todos:[todo,...this.state.todos]
        })
    }
    render() {
        let { todos } = this.state
        return (
            <>
                <div className="todo-container">
                    <div className="todo-wrap">
                        <Header addTodo={this.addTodo.bind(this)}/>
                        <Main todos={todos}/>
                        <Footer todos={todos} />
                    </div>
                </div>
            </>
        )
    }
}
```

src->components->Header->Header.jsx

```jsx
import React, { Component } from 'react'
import './index.css'
export default class Header extends Component {
    // æ·»åŠ æ–¹æ³•
    sendTitle(e){
        // åˆ¤æ–­æ˜¯å¦æ˜¯å›è½¦é”®
        if(e.key !== 'Enter') return;
        const title = e.target.value.trim();
        this.props.addTodo(title)
        // æ¸…ç©ºæ–‡æœ¬æ¡†
        e.target.value = ''
    }
    render() {
        return (
            <div className="todo-header">
                <input type="text" onKeyUp={(event) => this.sendTitle(event)} placeholder="è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤" />
            </div>
        )
    }
}
```

## åˆ é™¤ä»»åŠ¡

```jsx
æè¿°ï¼šç‚¹å‡»åˆ é™¤æŒ‰é’®ï¼Œåˆ é™¤åˆ—è¡¨ä¸­çš„å½“å‰è¡Œ
2. æ­¥éª¤ï¼š
   1. ç‚¹å‡»åˆ é™¤æŒ‰é’®
   2. åˆ é™¤è¯¥è¡Œ
3. æŠ€æœ¯ç‚¹ï¼š
   1. ç‚¹å‡»åˆ é™¤æŒ‰é’®ï¼š onClick   ä¼ é€’ id
   2. åˆ é™¤è¯¥è¡Œï¼š å­ä¼ çˆ¶
      æ•°æ®åœ¨è°èº«ä¸Šï¼Œæ–¹æ³•å°±è¦å®šä¹‰åœ¨è°èº«ä¸Š
```

src->components->Item->Item.jsx

```jsx
import React, { Component } from 'react'
import './index.css'
export default class Item extends Component {
    render() {
        let {todo,deleteById} = this.props
        return (
            <li>
                <label>
                    <input type="checkbox" checked={todo.isDone} />
                    <span>{todo.title}</span>
                </label>
                <button className="btn btn-danger" onClick={()=>deleteById(todo.id)}>åˆ é™¤</button>
            </li>
        )
    }
}
```

src->components->Main->Main.jsx

```jsx
import React, { Component } from 'react'
import Item from '../Item/Item'
import './index.css'
export default class Main extends Component {
    render() {
        let {todos,deleteById} = this.props
        return (
            <ul className="todo-main">
                {todos.map(todo => (<Item key={todo.id} todo={todo} deleteById={deleteById} />))}
            </ul>
        )
    }
}
```

src->components->TodoList->TodoList.jsx

```jsx
import React, { Component } from 'react'
import {nanoid} from 'nanoid'
import Footer from '../Footer/Footer'
import Header from '../Header/Header'
import Main from '../Main/Main'
import './index.css'

export default class TodoList extends Component {
    state={
        todos:[
            {
                id:nanoid(),
                title:'å¸çƒŸ',
                isDone:true
            },
            {
                id: nanoid(),
                title: 'å–é…’',
                isDone: true
            },
            {
                id: nanoid(),
                title: 'çƒ«å¤´',
                isDone: false
            }
        ]
    }
    addTodo(title){
        // æ‹¼æ¥ä¸€ä¸ªæ–°çš„todo
        let todo = {
            id:nanoid(),
            title,
            isDone:false
        }
        // å°†todoåŠ å…¥åˆ°todosçŠ¶æ€ä¸­
        this.setState({
            todos:[todo,...this.state.todos]
        })
    }
    deleteById(id) {
        if (!window.confirm('ç¡®å®šåˆ é™¤ä¹ˆ?')) return;
        console.log('father id: ', id);
        // 
        this.setState({
            todos: this.state.todos.filter(todo => todo.id !== id)
        })
    }
    render() {
        let { todos } = this.state
        return (
            <>
                <div className="todo-container">
                    <div className="todo-wrap">
                        <Header addTodo={this.addTodo.bind(this)}/>
                        <Main todos={todos} deleteById={this.deleteById.bind(this)} />
                        <Footer todos={todos} />
                    </div>
                </div>
            </>
        )
    }
}
```

## å‹¾é€‰å®Œæˆ

```jsx
1. ç‚¹å‡»å¤é€‰æ¡†ï¼Œæ”¹å˜å®ŒæˆçŠ¶æ€
2. æ­¥éª¤ï¼š
   1. ç‚¹å‡»å¤é€‰æ¡†[å¤é€‰æ¡†å‘ç”Ÿå˜åŒ–ï¼Œè§¦å‘ä¸€ä¸ªäº‹ä»¶]
   2. æ”¹å˜è¯¥æ¡çš„å®ŒæˆçŠ¶æ€
3. æŠ€æœ¯ï¼š
   1. ç‚¹å‡»å¤é€‰æ¡†[å¤é€‰æ¡†å‘ç”Ÿå˜åŒ–ï¼Œè§¦å‘ä¸€ä¸ªäº‹ä»¶]   onChange ä¸æ˜¯onClickäº‹ä»¶
   2. æ”¹å˜è¯¥æ¡çš„å®ŒæˆçŠ¶æ€ï¼Œ å­ä¼ çˆ¶
```

src->components->Item->Item.jsx

```jsx
import React, { Component } from 'react'
import './index.css'
export default class Item extends Component {
    render() {
        let { todo, deleteById, checkOne } = this.props
        return (
            <li>
                <label>
                    <input type="checkbox" checked={todo.isDone} onChange={() => checkOne(todo.id)}/>
                    <span>{todo.title}</span>
                </label>
                <button className="btn btn-danger" onClick={()=>deleteById(todo.id)}>åˆ é™¤</button>
            </li>
        )
    }
}
```

src->components->Main->Item.jsx

```jsx
import React, { Component } from 'react'
import Item from '../Item/Item'
import './index.css'
export default class Main extends Component {
    render() {
        let { todos, deleteById, checkOne } = this.props
        return (
            <ul className="todo-main">
                {todos.map(todo => (<Item key={todo.id} todo={todo} deleteById={deleteById} checkOne={checkOne} />))}
            </ul>
        )
    }
}
```

src->components->todoList->Item.jsx

```jsx
import React, { Component } from 'react'
import {nanoid} from 'nanoid'
import Footer from '../Footer/Footer'
import Header from '../Header/Header'
import Main from '../Main/Main'
import './index.css'

export default class TodoList extends Component {
    state={
        todos:[
            {
                id:nanoid(),
                title:'å¸çƒŸ',
                isDone:true
            },
            {
                id: nanoid(),
                title: 'å–é…’',
                isDone: true
            },
            {
                id: nanoid(),
                title: 'çƒ«å¤´',
                isDone: false
            }
        ]
    }
    addTodo(title){
        // æ‹¼æ¥ä¸€ä¸ªæ–°çš„todo
        let todo = {
            id:nanoid(),
            title,
            isDone:false
        }
        // å°†todoåŠ å…¥åˆ°todosçŠ¶æ€ä¸­
        this.setState({
            todos:[todo,...this.state.todos]
        })
    }
    deleteById(id) {
        if (!window.confirm('ç¡®å®šåˆ é™¤ä¹ˆ?')) return;
        console.log('father id: ', id);
        // 
        this.setState({
            todos: this.state.todos.filter(todo => todo.id !== id)
        })
    }
    checkOne(id){
        this.setState({
            todos: this.state.todos.map(todo => {
                if (todo.id === id) {
                    todo.isDone = !todo.isDone;
                }
                return todo;
            })
        })
    }
    checkAll(isDone){
        this.setState({
            todos:this.state.todos.map(todo=>{
                todo.isDone = isDone
                return todo
            })
        })
    }
    render() {
        let { todos } = this.state
        return (
            <>
                <div className="todo-container">
                    <div className="todo-wrap">
                        <Header addTodo={this.addTodo.bind(this)}/>
                        <Main todos={todos} deleteById={this.deleteById.bind(this)} checkOne={(id)=>this.checkOne(id)} />
                        <Footer todos={todos} checkAll={this.checkAll.bind(this)}/>
                    </div>
                </div>
            </>
        )
    }
}
```

src->components->Footer->Footer.jsx

```jsx
import React, { Component } from 'react'
import './index.css'
export default class Footer extends Component {
    // changeToAll
    changeToAll(e) {
        const isChecked = e.target.checked
        this.props.checkAll(isChecked)
    }

    render(){
        // æ¥æ”¶todos
        let {todos} = this.props
        // æ€»æ¡æ•°
        let total = todos.length;
        // å·²å®Œæˆæ•°é‡
        let doneNum = todos.reduce((pre,item)=>{
            // ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢
            return pre + item.isDone
        },0)
        return(
            <div className="todo-footer">
                <label>
                    <input type="checkbox" checked={doneNum === total && total > 0} onChange={this.changeToAll.bind(this)}/>
                </label>
                <span>
                    <span>å·²å®Œæˆ {doneNum}</span> / å…¨éƒ¨ {total}
                </span>
                <button className="btn btn-danger">æ¸…é™¤å·²å®Œæˆä»»åŠ¡</button>
            </div>
        )
    }
}
```

## åˆ é™¤å·²å®Œæˆ

src->components->todoList->todoList.jsx

```shell
æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼šæŠŠisDoneçš„todoè¿‡æ»¤è°ƒ
ç„¶åæŠŠè¿™ä¸ªæ–¹æ³•ä¼ ç»™å­ç»„ä»¶
```

```
    deleteDone(){
        if (!window.confirm('ç¡®å®šåˆ é™¤å·²å®Œæˆä¹ˆ?')) return;
        this.setState({
            todos: this.state.todos.filter(todo => !todo.isDone)
        })
    }
    
    render() {
        let { todos } = this.state
        return (
            <>
    			<Footer deleteDone={this.deleteDone.bind(this)} />
            </>
        )
    }
```

src->components->Footer->Footer.jsx

```shell
å­ç»„ä»¶æ¥æ”¶ï¼Œç„¶åè°ƒç”¨æ–¹æ³•
```

```shell
import React, { Component } from 'react'
import './index.css'
export default class Footer extends Component {
    // changeToAll
    changeToAll(e) {
        const isChecked = e.target.checked
        this.props.checkAll(isChecked)
    }

    render(){
        // æ¥æ”¶todos
        let { todos, deleteDone } = this.props
        // æ€»æ¡æ•°
        let total = todos.length;
        // å·²å®Œæˆæ•°é‡
        let doneNum = todos.reduce((pre,item)=>{
            // ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢
            return pre + item.isDone
        },0)
        return(
            <div className="todo-footer">
                <label>
                    <input type="checkbox" checked={doneNum === total && total > 0} onChange={this.changeToAll.bind(this)}/>
                </label>
                <span>
                    <span>å·²å®Œæˆ {doneNum}</span> / å…¨éƒ¨ {total}
                </span>
                <button className="btn btn-danger" onClick={deleteDone}>æ¸…é™¤å·²å®Œæˆä»»åŠ¡</button>
            </div>
        )
    }
}
```

## æœ¬åœ°ç¼“å­˜(å®Œç»“)

```jsx
1. å­˜å‚¨ï¼šlocalStorage.setItem(key,value)
2. è¯»æ•°æ®: localStorage.getItem(key)
3. åˆ é™¤: localStorage.removeItem(key)
4. å…¨éƒ¨åˆ é™¤: localStorage.clear()
```

src->components->todoList->todoList.jsx

```jsx
import React, { Component } from 'react'
import {nanoid} from 'nanoid'
import Footer from '../Footer/Footer'
import Header from '../Header/Header'
import Main from '../Main/Main'
import './index.css'

export default class TodoList extends Component {
    state={
        // åˆå§‹æ•°æ®ä¸ºä¸€ä¸ªç©ºæ•°ç»„
        todos:[]
    }
    // ç»„ä»¶æŒ‚è½½å®Œæˆå
    componentDidMount(){
        // ä»æœ¬åœ°å­˜å‚¨è¯»å–æ•°æ®
        const stringTodos = localStorage.getItem('todos')
        // jsonå­—ç¬¦ä¸²è½¬ä¸ºå¯¹è±¡
        const objToDos = JSON.parse(stringTodos) || []
        // è®¾ç½®æ•°æ®çŠ¶æ€
        this.setState({
            todos: objToDos
        })
    }
    // å½“ç»„ä»¶æ›´æ–°æ—¶
    componentDidUpdate(){
        // æŠŠtodoså¯¹è±¡è½¬ä¸ºjsonå­—ç¬¦ä¸²
        const stringTodos = JSON.stringify(this.state.todos)
        // å­˜å‚¨æ•°æ®åˆ°localstorage
        localStorage.setItem('todos', stringTodos)
    }
    addTodo(title){
        // æ‹¼æ¥ä¸€ä¸ªæ–°çš„todo
        let todo = {
            id:nanoid(),
            title,
            isDone:false
        }
        // å°†todoåŠ å…¥åˆ°todosçŠ¶æ€ä¸­
        this.setState({
            todos:[todo,...this.state.todos]
        })
    }
    deleteById(id) {
        if (!window.confirm('ç¡®å®šåˆ é™¤ä¹ˆ?')) return;
        console.log('father id: ', id);
        // 
        this.setState({
            todos: this.state.todos.filter(todo => todo.id !== id)
        })
    }
    checkOne(id){
        this.setState({
            todos: this.state.todos.map(todo => {
                if (todo.id === id) {
                    todo.isDone = !todo.isDone;
                }
                return todo;
            })
        })
    }
    checkAll(isDone){
        this.setState({
            todos:this.state.todos.map(todo=>{
                todo.isDone = isDone
                return todo
            })
        })
    }
    deleteDone(){
        if (!window.confirm('ç¡®å®šåˆ é™¤å·²å®Œæˆä¹ˆ?')) return;
        this.setState({
            todos: this.state.todos.filter(todo => !todo.isDone)
        })
    }
    render() {
        let { todos } = this.state
        return (
            <>
                <div className="todo-container">
                    <div className="todo-wrap">
                        <Header addTodo={this.addTodo.bind(this)}/>
                        <Main todos={todos} deleteById={this.deleteById.bind(this)} checkOne={(id)=>this.checkOne(id)} />
                        <Footer todos={todos} checkAll={this.checkAll.bind(this)} deleteDone={this.deleteDone.bind(this)} />
                    </div>
                </div>
            </>
        )
    }
}
```

src->components->Main->Main.jsx

```jsx
import React, { Component } from 'react'
import Item from '../Item/Item'
import './index.css'
export default class Main extends Component {
    render() {
        let { todos, deleteById, checkOne } = this.props
        return (
            <ul className="todo-main">
                {todos.map(todo => (<Item key={todo.id} todo={todo} deleteById={deleteById} checkOne={checkOne} />))}
            </ul>
        )
    }
}
```

src->components->Header->Header.jsx

```jsx
import React, { Component } from 'react'
import './index.css'
export default class Header extends Component {
    // æ·»åŠ æ–¹æ³•
    sendTitle(e){
        // åˆ¤æ–­æ˜¯å¦æ˜¯å›è½¦é”®
        if(e.key !== 'Enter') return;
        const title = e.target.value.trim();
        this.props.addTodo(title)
        // æ¸…ç©ºæ–‡æœ¬æ¡†
        e.target.value = ''
    }
    render() {
        return (
            <div className="todo-header">
                <input type="text" onKeyUp={(event) => this.sendTitle(event)} placeholder="è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤" />
            </div>
        )
    }
}
```

src->components->Footer->Footer.jsx

```jsx
import React, { Component } from 'react'
import './index.css'
export default class Footer extends Component {
    // changeToAll
    changeToAll(e) {
        const isChecked = e.target.checked
        this.props.checkAll(isChecked)
    }

    render(){
        // æ¥æ”¶todos
        let { todos, deleteDone } = this.props
        // æ€»æ¡æ•°
        let total = todos.length;
        // å·²å®Œæˆæ•°é‡
        let doneNum = todos.reduce((pre,item)=>{
            // ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢
            return pre + item.isDone
        },0)
        return(
            <div className="todo-footer">
                <label>
                    <input type="checkbox" checked={doneNum === total && total > 0} onChange={this.changeToAll.bind(this)}/>
                </label>
                <span>
                    <span>å·²å®Œæˆ {doneNum}</span> / å…¨éƒ¨ {total}
                </span>
                <button className="btn btn-danger" onClick={deleteDone}>æ¸…é™¤å·²å®Œæˆä»»åŠ¡</button>
            </div>
        )
    }
}
```

src->components->Item->Item.jsx

```jsx
import React, { Component } from 'react'
import './index.css'
export default class Item extends Component {
    render() {
        let { todo, deleteById, checkOne } = this.props
        return (
            <li>
                <label>
                    <input type="checkbox" checked={todo.isDone} onChange={() => checkOne(todo.id)}/>
                    <span>{todo.title}</span>
                </label>
                <button className="btn btn-danger" onClick={()=>deleteById(todo.id)}>åˆ é™¤</button>
            </li>
        )
    }
}
```

# TodoListå‡½æ•°ç»„ä»¶å®ç°

**å…¥å£æ–‡ä»¶**ï¼šsrc->index.js

```js
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
// å¯¼å…¥é‡ç½®æ ·å¼è¡¨
import './index.css'
const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
    <App />
);

```

**æ ·å¼é‡ç½®æ–‡ä»¶**ï¼šsrc->index.css

```css
/*base*/
body {
    background: #fff;
}

.btn {
    display: inline-block;
    padding: 4px 12px;
    margin-bottom: 0;
    font-size: 14px;
    line-height: 20px;
    text-align: center;
    vertical-align: middle;
    cursor: pointer;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);
    border-radius: 4px;
}

.btn-danger {
    color: #fff;
    background-color: #da4f49;
    border: 1px solid #bd362f;
}

.btn-danger:hover {
    color: #fff;
    background-color: #bd362f;
}

.btn:focus {
    outline: none;
}
```

**Appä¸»ç»„ä»¶**ï¼šsrc->App.jsx

```jsx
import React from 'react'
import TodoList from './components/TodoList/TodoList'

export default function App(){
    return(
        <div>
            <TodoList/>
        </div>
    )
}
```

**TodoListå­ç»„ä»¶**ï¼šsrc->components->TodoList->TodoList.jsx

```jsx
import React, { useEffect, useRef, useState } from 'react'
import { nanoid } from 'nanoid'
import Footer from '../Footer/Footer'
import Header from '../Header/Header'
import Main from '../Main/Main'
import './index.css'

export default function TodoList(){
    // å®šä¹‰æ ‡è®°Ref,è®¾ç½®åˆå§‹å€¼ä¸ºtrue
    const flagRef = useRef(true)
    // çŠ¶æ€æ•°æ®å®šä¹‰
    let [todos,setTodos] = useState([])
    // æ·»åŠ todo
    function addTodo(mission){
        // åˆ›å»ºä¸€ä¸ªå¯¹è±¡
        let todo = {
            id: nanoid(),
            mission,
            isDone: false
        }
        // æŠŠè¿™å¯¹è±¡æ·»åŠ åˆ°æ•°ç»„ä¸­:ä½¿ç”¨setTodos,æŠŠæ–°å€¼èµ‹å€¼ç»™æ—§å€¼æ›¿æ¢
        setTodos([todo,...todos])
    }
    // åˆ é™¤todo
    function delTodo(id){
        if (!window.confirm('ç¡®å®šè¦åˆ é™¤ä¹ˆ?')) return;
        // ä½¿ç”¨filteræ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„,æŠŠå‰©ä¸‹æ¥çš„ èµ‹å€¼ç»™Todos
        setTodos(todos.filter(todo=>id !== todo.id))
    }

    // ä¿®æ”¹checkedçŠ¶æ€
    function checkOne(id){
        setTodos(todos.map(todo=>{
            if (todo.id === id){
                todo.isDone = !todo.isDone
            }
            return todo
        } ))
    }

    // å…¨é€‰çŠ¶æ€
    function checkAll(isDone){
        setTodos(todos.map(todo=>{
            todo.isDone = isDone
            return todo
        }))
    }

    // æ¸…é™¤å·²å®Œæˆ
    // å°†isDoneæ˜¯trueåˆ æ‰ == > å°†isDoneæ˜¯falseçš„ä¿ç•™
    function delDoneMission(){
        if (!window.confirm('ç¡®å®šè¦åˆ é™¤å®Œæˆçš„é¡¹ç›®ä¹ˆ?')) return
        setTodos(todos.filter(todo=>!todo.isDone))
    }

    // ç»„ä»¶æŒ‚è½½å®Œæˆåæ‰§è¡Œ
    useEffect(()=>{
        // componentDisMount,æŒ‚è½½å®Œæˆåä»localStorageä¸­è·å–æ•°æ®
        let todosJson = localStorage.getItem('todos')
        let todos = JSON.parse(todosJson) || []
        // è®¾ç½®todos
        setTodos(todos)
    },[])
    // ç»„ä»¶æ›´æ–°å®Œæˆåæ‰§è¡Œ
    useEffect(()=>{
        if (flagRef.current){
            flagRef.current = false
            return
        }
        // æ›´æ–°æœ¬åœ°å­˜å‚¨æ•°æ®
        localStorage.setItem('todos',JSON.stringify(todos))
    },[todos])

    return(
        <>
            <div className="todo-container">
                <div className="todo-wrap">
                    <Header addTodo={addTodo}/>
                    <Main todos={todos} delTodo={delTodo} checkOne={checkOne} />
                    <Footer todos={todos} delDoneMission={delDoneMission} checkAll={checkAll}/>
                </div>
            </div>
        </>
    )
}
```

**Mainå­ç»„ä»¶**ï¼šsrc->components->Main->Main.jsx

```jsx
import React from 'react'
import Item from '../Item/Item'
import './index.css'
export default function Main({ todos, delTodo,checkOne }){
    return(
        <ul className="todo-main">
            {todos.map(todo => (
                <Item key={todo.id} todo={todo} delTodo={delTodo} checkOne={checkOne} />
            ))}
        </ul>
    )
}
```

**Itemå­ç»„ä»¶**ï¼šsrc->components->Item->Item.jsx

```jsx
import React from 'react'
import './index.css'
export default function Item({ todo, delTodo,checkOne }){

    return (
        <li>
            <label>
                <input type="checkbox" checked={todo.isDone} onChange={()=>checkOne(todo.id)}/>
                <span>{todo.mission}</span>
            </label>
            <button className="btn btn-danger" onClick={()=>{delTodo(todo.id)}}>åˆ é™¤</button>
        </li>
    )
}
```

**Headerå­ç»„ä»¶**ï¼šsrc->components->Header->Header.jsx

```jsx
import React from 'react'
import './index.css'
export default function Header ({addTodo}){
    function addMission(e){
        // 1. åˆ¤æ–­æ˜¯å¦æŒ‰çš„æ˜¯å›è½¦
        // 2. è·å–ç”¨æˆ·è¾“å…¥å†…å®¹
        // 3. è°ƒç”¨æ–¹æ³•ï¼Œä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶
        if(e.key !== 'Enter') return;
        let mission = e.target.value.trim()
        addTodo(mission)
        // æ¸…ç©ºæ–‡æœ¬æ¡†
        e.target.value = ''
    }
    return (
        <div className="todo-header">
            <input type="text" onKeyUp={addMission} placeholder="è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤" />
        </div>
    )
}
```

**Footerå­ç»„ä»¶**ï¼šsrc->components->Footer->Footer.jsx

```jsx
import React, { Component } from 'react'
import './index.css'
export default function Footer({todos,delDoneMission,checkAll}){
    let total = todos.length;
    let doneNum = todos.reduce((pre,item)=>{return pre + item.isDone},0)
    return (
        <div className="todo-footer">
            <label>
                <input type="checkbox" checked={doneNum === total && total > 0} onChange={(e)=>checkAll(e.target.checked)} />
            </label>
            <span>
                <span>å·²å®Œæˆ{doneNum}</span> / å…¨éƒ¨{total}
            </span>
            <button className="btn btn-danger" onClick={delDoneMission}>æ¸…é™¤å·²å®Œæˆä»»åŠ¡</button>
        </div>
    )
}
```

